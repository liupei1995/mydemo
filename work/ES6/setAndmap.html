<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		
		<script type="text/javascript">
			
			//ES6提供了新的数据结构Set.它类似于数据,但是成员的值都是唯一的,没有重复的值
			//Set本身是一个构造函数,用来生成Set数据结构
			const s = new Set();
			[2, 3, 4, 5, 4, 5].forEach(x=> s.add(x));
			for (let i of s) {
				console.log(i);
			}
			
			//Set函数可以接受一个数组作为参数,用来初始化
			const set = new Set([1, 2, 3, 4, 4]);
			console.log([...set]); //[1, 2, 3, 4]
			
			
			const items = new Set([1, 2, 3, 4, 5, 5, 5]);
			console.log(items.size); //5
			
			//Set实例的属性和方法
			/*属性：
			 	Set.prototype.constructor:构造函数,默认就是Set函数
			 	Set.prototype.size:返回Set实例的成员总数
			 * */
			/*方法：
			 	add(value):添加某个值,返回Set结构本身
			 	delete(value):删除某个值,返回一个布尔值,表示删除是否成功
			 	has(value):返回一个布尔值,表示该值是否为Set的成员
			 	clear(value)：清除所有成员,没有返回值
			 * */
			const t = new Set();
			t.add(1).add(2).add(2);
			console.log(t.size);
			
			//Array.from方法可以将Set结构转为数组
			//在数组去重的时候可以用Set结构
			let set1 = new Set([1, 2, 3]);
			set1 = new Set([...set1].map(val => val*2));
			console.log(set1);
			
			let set2 = new Set([1, 2, 3]);
			set2 = new Set(Array.from(set2, val => val*2));
			console.log(set2);
			
			
			//map
			//对同一个键多次赋值,后面的值将覆盖前面的值
			const map = new Map();
			map.set(1,"aaa");
			map.set(1,"bbb");
			console.log(map.get(1));
			
			map.set(["a"], 555);
			console.log(map.get(["a"])); //undefined
			//表面是针对同一个键,但实际上这是两个值.
			
			const k1 = ["a"];
			const k2 = ["a"];
			map.set(k1, 111);
			map.set(k2, 222);
			console.log(map.get(k1)); //111
			console.log(map.get(k2)); //222
			
			//实例的属性和操作方法
			//size属性
			const map1 = new Map();
			map1.set("foo", true);
			map1.set("bar", false);
			console.log(map1.size);
			
			//set(key, value)
			const m = new Map();
			
			m.set("edition", 6);
			m.set(262, "standard");
			m.set(undefined, "nah");
			//set方法返回的是当前的Map对象,因此可以采用链式写法
			
			//get(key)
			console.log(m.get(262));
			
			//has(key)
			//has方法返回一个布尔值,表示某个键是否在当前Map对象之中
			console.log(m.has("edition"));
			
			//delete(key)
			//删除某个键,返回true,如果删除失败,返回false
			m.delete(undefined);
			console.log(m.has(undefined));
			
			//clear()
			//clear方法清除所有成员,没有返回值
			console.log(m.size);
			m.clear();
			console.log(m.size);
			
			//Map结构原生提供三个遍历器生成函数和一个遍历方法
			//keys():返回键名的遍历器
			//values():返回键值的遍历器
			//entries():返回成员的遍历器
			//forEach():遍历Map的所有成员
		</script>
	</body>
</html>
